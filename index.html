<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Thunder Road: Vendetta — Tiles</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#ffb82e" />

  <!-- iOS icons -->
  <link rel="apple-touch-icon" sizes="120x120" href="icons/icon-120.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png" />
  <link rel="apple-touch-icon" sizes="167x167" href="icons/icon-167.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="wrap">
    <header class="topbar">
      <div class="brand">
        <div class="logo">TR</div>
        <div class="titles">
          <div class="t1">Thunder Road</div>
          <div class="t2">Vendetta • Tile Picker</div>
        </div>
      </div>
    </header>

    <section class="card controls">
      <label class="toggle">
        <input id="useExpansion" type="checkbox" checked />
        <span>Добавить «Дьявольская мясорубка» (6–10)</span>
      </label>

      <div class="row">
        <button id="btnStart" class="primary">СТАРТ + 2 ТАЙЛА</button>
        <button id="btnNext" class="primary" disabled>НОВЫЙ ТАЙЛ (СБРОС СТАРОГО)</button>
      </div>

      <div class="row">
        <button id="btnUndo" class="ghost" disabled>Отменить</button>
        <button id="btnReset" class="danger">Сброс</button>
      </div>

      <div class="stats">
        <div><b>Тайлы на столе:</b> <span id="tableCount">—</span></div>
        <div><b>Осталось сторон в пуле:</b> <span id="remaining">—</span></div>
        <div><b>Стартовый убран:</b> <span id="blockedStarter">—</span></div>
      </div>
    </section>

    <section class="card stage">
      <div class="tableGrid">
        <!-- Визуальный порядок: Новейший (сверху) -> Средний -> Старейший (внизу) -->
        <div class="slot" id="slot2" data-slot="newest">
          <div class="slotTitle">Новейший</div>
          <div class="slotInner">
            <div class="big" id="tile2">—</div>
            <div class="imgFrame"><img id="img2" alt="" /><div class="scanlines"></div></div>
          </div>
        </div>

        <div class="slot" id="slot1" data-slot="middle">
          <div class="slotTitle">Средний</div>
          <div class="slotInner">
            <div class="big" id="tile1">—</div>
            <div class="imgFrame"><img id="img1" alt="" /><div class="scanlines"></div></div>
          </div>
        </div>

        <div class="slot" id="slot0" data-slot="oldest">
          <div class="slotTitle">Старейший (сбросится первым)</div>
          <div class="slotInner">
            <div class="big" id="tile0">—</div>
            <div class="imgFrame"><img id="img0" alt="" /><div class="scanlines"></div></div>
          </div>
        </div>
      </div>

      <div class="hint" id="hint">Нажми «СТАРТ + 2 ТАЙЛА», чтобы заполнить 3 слота.</div>
    </section>

    <section class="card historyCard">
      <div class="historyHead">
        <h2>История выкладывания</h2>
        <button id="btnHistory" class="ghost small" type="button" aria-expanded="true">Свернуть</button>
      </div>
      <ol id="history" class="history"></ol>
    </section>

    <footer class="footer">
      <small>Офлайн включён. Состояние сохраняется в браузере.</small>
    </footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
